
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Unity Performance Field Guide</title>
        <link rel="stylesheet" href="spectre.min.css">
        <link rel="stylesheet" href="spectre-exp.min.css">
        <link rel="stylesheet" href="spectre-icons.min.css">
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://use.typekit.net/cvo3vmx.css">

        <meta content="Unity (Unofficial) Performance Field Guide" property="og:title"/>
        <meta content="This field-guide is an attempt to articulate a series of from-the-trenches tips and tricks. So you can build good habits and generate less optimization work for yourself later." property="og:description"/>
        <meta content="https://unityfieldguide.com/" property="og:url"/>
        <meta content="https://unityfieldguide.com/img/Screenshot_1.png" property="og:image"/>
        <meta content="#5755D9" data-react-helmet="true" name="theme-color"/>

        <script>
            // a key map of allowed keys
            var allowedKeys = {
                37: 'left',
                38: 'up',
                39: 'right',
                40: 'down',
                68: 'd',
                73: 'i',
                71: 'g'
            };

            // the 'official' Konami Code sequence
            var konamiCode = [
                'up',
                'down',
                'up',
                'down',
                'd',
                'i',
                'g'
            ];

            // a variable to remember the 'position' the user has reached so far.
            var konamiCodePosition = 0;

            // add keydown event listener
            document.addEventListener('keydown', function (e) {
                // get the value of the key code from the key map
                var key = allowedKeys[e.keyCode];
                // get the value of the required key from the konami code
                var requiredKey = konamiCode[konamiCodePosition];

                // compare the key with the required key
                if (key == requiredKey) {

                    // move to the next key in the konami code sequence
                    konamiCodePosition++;

                    // if the last key is reached, activate cheats
                    if (konamiCodePosition == konamiCode.length) {
                        activateCheats();
                        konamiCodePosition = 0;
                    }
                } else {
                    konamiCodePosition = 0;
                }
            });

            var hasRun = false;

            function activateCheats() {

                hasRun = true;
                document
                    .getElementById("secret")
                    .style
                    .display = "inline";

                var audio = new Audio('audio/pling.mp3');
                audio.play();

                //alert("secret unlocked");
            }
        </script>
    </head>
    <body>
        <!--
        <header class="navbar" style="padding: 1rem; box-shadow: 2px 2px 2px lightgrey;">
            <section class="navbar-section">
                <a href="./" class="navbar-brand mr-2">Unity Performance Field Guide</a>
            </section>
            <section class="navbar-section">
                <a href="https://github.com/tylertomaseski/Unity-Performance-Field-Guide" class="btn btn-link">GitHub Repo</a>
            </section>
        </header>
        -->

        <div class="container grid-lg centered filter">
            <input type="radio" id="tag-0" class="filter-tag" name="filter-radio" hidden checked>
            <input type="radio" id="tag-1" class="filter-tag" name="filter-radio" hidden>
            <input type="radio" id="tag-2" class="filter-tag" name="filter-radio" hidden>
            <input type="radio" id="tag-3" class="filter-tag" name="filter-radio" hidden>

            <div class="columns">
                <div class="column col-12 card mt-2 pt-2">
                    <h1>The <small class="label">unofficial</small> Unity Performance Field Guide!</h1>
                    <h3>About</h3>
<p><strong>The best way to optimize your game is to build good habits</strong> and write decently performant code the first time on instinct.</p>
<p>Part of why doing that is so hard, is that sometimes you don’t know the best way or the pitfalls of the engine until it’s too late. <strong>This field-guide is an attempt to articulate a series of from-the-trenches tips and tricks. So you can build good habits and generate less optimization work for yourself later.</strong></p>
<p>This guide is an effort to concentrate knowledge from <a href="https://societyofplay.net/">Society of Play</a> community discussions into a single reference point.</p>
<div class="columns">
<div class="column col-5 col-md-12">
<h4>Credits</h4>
<p><strong>Curator + Editor:</strong> <a href="https://tylertomaseski.github.io/TyFolio/">Tyler Tomaseski</a><br />
<strong>Optitmization Contributors:</strong> <br /><span id="secret" style="display: none;">Soup, </span>Scott Robertson, Liz Gravis, &amp; Tyler Tomaseski</p>
</div>
<div class="column col-7 col-md-12">
<h4>Disclaimer</h4>
<p><em><strong>The Unity Field Guide is not officially supported or sponsored by Unity in any way.</strong></em></p>
</div>
<div class="column col-12 col-md-12">
<h4>How to contribute</h4>
<p>The Unity Performance Field-Guide is an <a href="https://github.com/tylertomaseski/Unity-Performance-Field-Guide">open-source project and can be found here</a>. Have tips? I'll soon be adding a guide to the Git Repo on how to contribute tips!</p>
</div>
</div>
                </div>
            </div>
            <!-- end columns -->

            <div class="columns">
                <div class="column col-12 pt-2 mt-2">
                    <h1 class=" mb-0">
                        <center>The tips!</center>
                    </h1>
                </div>
            </div>

            <!--
            <div class="filter-nav">
                <strong>Filters:</strong>
                <label class="chip" for="tag-0">All</label>
                <label class="chip" for="tag-1">Code</label>
                <label class="chip" for="tag-2">Art</label>
                <label class="chip" for="tag-3">Engine</label>
            </div>
            -->

            <div class="divider"></div>

            <div class="filter-body"><div class="columns filter-item" data-tag="tag-1tag-2">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Animator Key Hashing</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span><span class="chip">Art</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Setting and getting values from animators with strings.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void Update() 
{
    Animator.SetFloat("PropertyName", ...)
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Generating string hashes once and then using generated ints.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">int Key_PropertyName;

void Awake() 
{
    Key_PropertyName = Animator.StringToHash("PropertyName");
}

void Update() 
{
    Animator.SetFloat(Key_PropertyName, ...)
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Every time you pass a string to an animator, it will "hash" the string. Which is slow. You can instead do this once on your end, and reuse the generated integer id.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1tag-2">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">FPS conditional FX</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span><span class="chip">Art</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Spawning all fx.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void SpawnFX() {
    GameObject.Instantiate(/*...*/);
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Don't spawn some fx when FPS is low or when off-screen.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void SpawnFX() {
    //only spawn if framerate is higher than 25fps
    if (Time.deltaTime < 1.0f / 25.0f)
        GameObject.Instantiate(/*...*/);
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Some FX may not be critical to your game (like footstep dust). Try not spawning it or limiting it while the game's FPS is low.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Empty Start(), Update(), Etc...</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Leaving empty Unity callback methods laying around.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void Start() {

}

void Update() {
    
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Deleting them!

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">//JohnTravoltaMeme.gif</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Turns out Unity will not optimize out those functions that they put there for you. Remember that Start function in every MonoBehaviour that you left there? They're slowing you down. Delete 'em!
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Game Initialization</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Static initializers or static constructors for static variables. Multiple [InitializeOnLoad].

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">public static class Globals {
    static Vector3 GlobalVal1 = new Vector3(...);
    static float GlobalVal2 = ...;
    static SomeClass GlobalVal3 = ...;
    static SomeClass[] GlobalVal4 = new SomeClass[...];

    static Globals() {}
}

public static class InitClass1 {
    [InitializeOnLoad]
    static void SomeInitMethod() {}
}

public static class InitClass2 {
    [InitializeOnLoad]
    static void SomeInitMethod() {}
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Create one specific unified initialization routine to run for each of Unity’s initialization callbacks and attributes (like [InitializeOnLoad]).

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">public static class GameInitialization {
    [InitializeOnLoad]
    static void GameInitializationRunner() {
        Globals.InitGlobals();
        InitClass1.SomeInitMethod();
        InitClass2.SomeInitMethod();
    }
}

public static class Globals {
    static Vector3 GlobalVal1;
    static float GlobalVal2;
    static SomeClass GlobalVal3;
    static SomeClass[] GlobalVal4;

    static void InitGlobals() {
        //initialize values
        //...
    }
}

public static class InitClass1 {
    static void SomeInitMethod() {}
}

public static class InitClass2 {
    static void SomeInitMethod() {}
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Static initializers make editor performance slower during startup, compiling, play mode entry/exit, and a few other places. They also inject a small amount of overhead for any code that accesses the class with the static initializer or constructor, which adds up.

                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">TMPro frequent SetText() calls</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
TMPro.TMP_Base.SetText() every frame

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">TMP_Text textComponent;

void Update() {
    this.textComponent.SetText((int)Time.time);
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Set once, only update when the text changes!

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">TMP_Text textComponent;
int lastVal = -1;

void Update() {
    int val = (int)Time.time;
    if (val != lastVal) {
        lastVal = val;
        this.textComponent.SetText(val);
    }
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Rebuilding TMPro text meshes is slow and it does it every time you set the text value! And so is its rich text support. Avoid setting text unless the contents have changed.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Deep transform hierarchies</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Maintaining large Transform hierarchies (for UI or temporary shared motion or scene organization)

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">//Unity transform hierarchy

> Gameobject Category Container
    > My GO Container
        > Sub Container
            > Regional Offset
                > Extra transform in prefab
                    > Crates Container
                        > Crate group Offset
                            > Crate</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Keep Transform hierarchies as flat as possible

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">//Unity Transform Hierarcy
> Gameobject Category Container //just sits above relevant hierarchies
> Regional Offset
    > Crate</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
They make internal per-frame Transform operations slower. Transform hierarchies reduce the multithreading ability of the animation system and IJobParallelForTransform jobs. They make most UI operations slower.

If you NEED to maintain deep transform parenting, consider unparenting objects at runtime.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Avoid default C# Data Structures</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
List, SparseSet, Dictionary, Etc.

                                </p>
                            </div><!-- TRY --><div class="column col-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
GDX, an open-source collection of custom data-types geared towards gamedev and performance.

                                </p>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
C#'s built in data types are geared towards maximum flexibility and sacrifice performance for it. GDX is an amazing collection of gamedev oriented data-types with a performance-first attitude.

Getting the right data-type will not only be faster, but give you catered architecture to best solve your problems
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Time.deltaTime and other static accessors</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Accessing static variables like Time.deltaTime whenever you need them

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">public class SomeGameplayClass : MonoBehaviour 
{
    void Update() {
        //..
        timer += Time.deltaTime;
        //...
        transform.Rotate(0, 0, degreesPerSecond * Time.deltaTime);
        ///
    }
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Cache them once per frame in your own static variables before any logic runs for the frame.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">[DefaultExecutionOrder(-1000)]
public class MyTime : MonoBehaviour
{
    public static float deltaTime;

    void Update() 
    {
        deltaTime = Time.deltaTime;
    }

    void FixedUpdate() 
    {
        deltaTime = Time.deltaTime;
    }
}

public class SomeGameplayClass : MonoBehaviour 
{
    void Update() {
        //..
        this.timer += MyTime.deltaTime;
        //...
    }
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Many static accessors go through the same managed/native interop as Transform does. Many that don’t still involve expensive interactions with the operating system. Many do both.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Check array length once in a for-loop</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Checking a collections length inside the for-loop.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">for (... ; i < collection.Count ; …)
{
    …
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Cache the collections length and use the cached int in the for-loop.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">int count = collection.Count;
for (… ; i < count ; …)
{
    …
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
The compiler doesn't know if you've edited the array, so it politely asks the collection every for-loop what it's length is. This isn't a hurculean task, but it takes a little time. And this adds up across your entire code-base!
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Update ticketing/queuing</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Doing everything every frame no matter the framerate.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">public class AI : MonoBehaviour {
    void FixedUpdate() {
        UpdateAiFSM();
        Move();
    }

    //...
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Take turns running certain logic. So some things only update every X frames.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">[DefaultExecutionOrder(-1000)]
public class UpdateQueue : MonoBehaviour
{
    public static int UpdateQueueTicketNumber;
    public static int UpdateQueueIndex;
    public const int QueueLength = 5; //conditional logic updates every 5th frame

    [MethodImpl(MethodImplOptions.AggressiveInlining)]
    public static int GetQueueTicket() {
        UpdateQueueTicketNumber++;
        UpdateQueueTicketNumber %= QueueLength;
        return UpdateQueueTicketNumber;
    }

    public static bool ShouldUpdate(int ticketNumber) {
        return UpdateQueueIndex == ticketNumber;
    }

    void FixedUpdate() {
        UpdateQueueIndex++;
        UpdateQueueIndex %= QueueLength;
    }
}

//...

public class AI : MonoBehaviour {
    int ticketNumber;

    void Awake() {
        ticketNumber = UpdateQueue.GetQueueTicket();
    }
    
    void FixedUpdate() {
        if (UpdateQueue.ShouldUpdate(ticketNumber))
            UpdateAiFSM();
        Move();
    }

    //...
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Some logic, like AI, may not need to "think" every frame. Your slime enemies need to move every frame, but probably only need to "think" every X frames.
<br /> <br />
A simple ticketing system can allow non-frame dependent logic to run less frequently. This will help distribute your logic across multiple frames.

                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Transform.position and other extern APIs</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Using Transform.position, Transform.rotation, etc. multiple times per-frame

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void Update() 
{
    this.transform.position += Vector3.left * (Input.GetKeyDown(KeyCode.A) ? 1f : 0f);
    this.transform.position += Vector3.right * (Input.GetKeyDown(KeyCode.D) ? 1f : 0f);

    //...
    
    this.transform.rotation = Quaternion.LookDirection(...);
    this.transform.rotation = this.transform.rotation * tiltRotation;

    //...
}</span></code></pre>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Access any Transform data you need twice per simulation step in an IJobParallelForTransform job: once for reading from Transforms, once for writing to them.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">[BurstCompile]
public struct TransformJob : IJobParallelForTransform
{      
    public void Execute(int index, TransformAccess transform)
    {
        Vector3 position = transform.position;
        Quaternion rotation = transform.rotation;

        //
        // Your logic
        //

        transform.position = position;
        transform.rotation = rotation;
    }
}
</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
Transform access is slow. It involves expensive managed/native interop and struct copying.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --><div class="columns filter-item" data-tag="tag-1tag-2">
                        <div class="column col-9 col-sm-12">
                            <h2 class="mb-0 label label-primary">Animator events & animator state behaviours</h2>
                            <div class="ml-1 mt-2">
                                <i class="ml-1">Tags: </i><span class="chip">Code</span><span class="chip">Art</span></div>
                        </div>

                        <div class="column col-3 col-sm-12 pt-2 panel label">
                            <h6 class="" style="text-align: center;">Difficulty</h6>
                            <ul class="step">
                                <!-- Switch to shortcode for this conditional -->
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Trivial">1</a>
                                </li>
                                <li class="step-item">
                                    <a href="#" class="tooltip" data-tooltip="Worthwhile, but non-trivial">2</a>
                                </li>
                                <li class="step-item active">
                                    <a href="#" class="tooltip" data-tooltip="Difficult, but worthwhile if you have the time">3</a>
                                </li>
                            </ul>
                        </div>

                        <!-- INSTEAD OF --><div class="column col-12 mt-2">
                                <h4 class="label label-error">Instead of...</h4>
                                <p>
                                    
Using animator <a href="https://docs.unity3d.com/ScriptReference/StateMachineBehaviour.html">StateMachineBehaviour</a> or <a href ="https://docs.unity3d.com/Manual/script-AnimationWindowEvent.html">Animation Events</a>.

                                </p>
                            </div><!-- TRY --><div class="column col-4 col-md-12 mt-2">
                                <h4 class="label label-success">Try instead...</h4>
                                <p>
                                    
Avoid reading from animators at all if possible. If necessary, read animation data explicitly after animations finish for that frame.

                                </p>
                            </div>
                            <div class="column col-8 col-md-12">
                                <pre class="code" data-lang="C#"><code><span class="com">void LateUpdate() {
    //...
    AnimatorStateInfo stateInfo = animator.GetCurrentAnimatorStateInfo(0);
    //...
}</span></code></pre>
                            </div><!-- BECAUSE -->
                        <div class="column col-12">
                            <h4>Because...</h4>
                            <p>
                                
StateMachineBehaviour callbacks and Animation Events lock animation work to the main thread, severely limiting multithreading and creating a bottleneck.
<br/><br/>
This requires a good amount of architecture and tools for authoring animation events & behaviours.
                            </p>

                            <div class="divider"></div>
                            <br/>
                            <br/>
                        </div>
                    </div>
                    <!-- End COLUMNS --></div>
            <!-- end filter body -->

            <div class="hero bg-gray">
                <div class="hero-body">
                    <h1>
                        <center>Good luck out there!</center>
                    </h1>
                    <p>
                        <center>We're rooting for you!</center>
                    </p>
                </div>
            </div>
        </div>
        <!-- End CONTAINER -->
    </body>
</html>